<script>

    
</script>

<script type="module">
    import { TextWithHeader } from '/public/cnv/text_with_header.js';
    export class App extends TextWithHeader {
        tick() {
            let name = "Time until the end of 2024";
            this.data = { Name: name, Value1: "", Value2: this.timeUntilSixPM(), Comment: "until 2025-01-01 00:00:00 (local time)" };
        }

        timeUntilSixPM() {
        const now = new Date();
        const sixPM = new Date(now);
        sixPM.setHours(18, 0, 0, 0);
        if (now >= sixPM) {
            sixPM.setDate(sixPM.getDate() + 1);
        }
        const diff = sixPM - now;
        const hours = String(Math.floor(diff / (1000 * 60 * 60))).padStart(2, '0');
        const minutes = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
        const seconds = String(Math.floor((diff % (1000 * 60)) / 1000)).padStart(2, '0');
        return `${hours}:${minutes}:${seconds}`;
    }
    }
    window.app = new App();
</script>
